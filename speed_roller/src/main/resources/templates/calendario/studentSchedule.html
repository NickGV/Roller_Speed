<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Horario Estudiantes - Roller Speed</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="../../css/styles.css" th:href="@{/css/styles.css}" />
</head>
<body>
    <div th:replace="~{fragments/navbar :: navbar}"></div>
    
    <main class="container mt-5 mb-5">
        <div class="schedule-header text-center">
            <h1 class="display-5 fw-bold">Horarios para Estudiantes</h1>
            <div class="col-lg-8 mx-auto">
                <p class="lead mb-0">
                    Consulta los horarios de clases disponibles para todos los niveles. ¬°Encuentra el horario que mejor se adapte a ti!
                </p>
            </div>
        </div>
        
        <!-- Leyenda -->
        <div class="row mb-4">
            <div class="col-12">
                <div class="alert alert-info text-center" role="alert">
                    <h5 class="mb-3">Niveles de Clases</h5>
                    <span class="badge bg-success me-3">Principiante</span>
                    <span class="badge bg-warning text-dark me-3">Intermedio</span>
                    <span class="badge bg-danger me-3">Avanzado</span>
                    <span class="badge bg-primary">Clases Especiales</span>
                </div>
            </div>
        </div>
        
        <!-- Tabla de horarios -->
        <div class="table-responsive">
            <table class="table table-bordered table-hover calendar-table">
                <thead class="table-primary">
                    <tr>
                        <th style="width: 15%;">Horario</th>
                        <th>Lunes</th>
                        <th>Martes</th>
                        <th>Mi√©rcoles</th>
                        <th>Jueves</th>
                        <th>Viernes</th>
                        <th>S√°bado</th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:if="${clases == null || #lists.isEmpty(clases)}">
                        <td colspan="7" class="text-center py-4">
                            <p class="text-muted mb-0">No hay clases registradas actualmente</p>
                        </td>
                    </tr>
                    <tr th:each="timeSlot : ${timeSlots}">
                        <td class="time-slot fw-bold bg-light" th:text="${timeSlot}"></td>
                        <td th:each="dia : ${dias}" class="class-cell">
                            <div th:with="clase=${#lists.isEmpty(clases) ? null : clases.?[dia == __${dia}__ && horaInicio == __${timeSlot}__].^[0]}">
                                <th:block th:if="${clase != null}">
                                    <span th:class="${'badge mb-1 d-block ' + 
                                        (clase.nivel == 'Principiante' ? 'bg-success' : 
                                         clase.nivel == 'Intermedio' ? 'bg-warning text-dark' : 
                                         clase.nivel == 'Avanzado' ? 'bg-danger' : 'bg-primary')}"
                                          th:text="${clase.nivel}">
                                    </span>
                                    <small th:text="${clase.nombreClase}"></small>
                                    <br>
                                    <small class="text-muted" th:text="${clase.instructor.nombre}"></small>
                                </th:block>
                                <th:block th:unless="${clase != null}">
                                    <span class="text-muted">-</span>
                                </th:block>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        
        <!-- Informaci√≥n adicional -->
        <div class="row mt-5">
            <div class="col-md-4 mb-3">
                <div class="card h-100 text-center border-0 shadow-sm">
                    <div class="card-body">
                        <h5 class="card-title text-primary">üìç Ubicaci√≥n</h5>
                        <p class="card-text">
                            Patin√≥dromo Municipal<br>
                            Calle 22 #15-30<br>
                            Santa Marta, Magdalena
                        </p>
                    </div>
                </div>
            </div>
            <div class="col-md-4 mb-3">
                <div class="card h-100 text-center border-0 shadow-sm">
                    <div class="card-body">
                        <h5 class="card-title text-primary">‚è∞ Duraci√≥n</h5>
                        <p class="card-text">
                            Cada clase tiene una<br>
                            duraci√≥n de 90 minutos<br>
                            (1 hora y 30 minutos)
                        </p>
                    </div>
                </div>
            </div>
            <div class="col-md-4 mb-3">
                <div class="card h-100 text-center border-0 shadow-sm">
                    <div class="card-body">
                        <h5 class="card-title text-primary">üë• Cupos</h5>
                        <p class="card-text">
                            M√°ximo 12 estudiantes<br>
                            por clase para garantizar<br>
                            atenci√≥n personalizada
                        </p>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="text-center mt-4">
            <a href="#" th:href="@{/registro/estudiante}" class="btn btn-primary btn-lg me-3">Inscr√≠bete Ahora</a>
            <a href="#" th:href="@{/contacto}" class="btn btn-outline-primary btn-lg">M√°s Informaci√≥n</a>
        </div>
    </main>
    
    <div th:replace="~{fragments/footer :: footer}"></div>
    
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO"
      crossorigin="anonymous"
    ></script>
</body>
</html>

